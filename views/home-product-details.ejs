<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store</title>

    <link rel="stylesheet" type="text/css" href="/customer/style2.css">
    <!-------link icons-->
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
  <header>
    <div class="header-top">
      Free shipping available on all orders!
    </div> 
    <nav>
      <a href="" class="logo"> <i class="fa-solid fa-store"></i>ZAINAY</a>
      <div class="main-header">
          <ul class="navbar">
            <li a href="">Home</li>
            <li a href="">About</li>
            <li a href="">Sunglasses</li>
            <li a href="">Eyeglasses</li>
          </ul>
          <div class="header-icons">
            <a href="#"><i class="fa-solid fa-magnifying-glass"></i></a>
            <a href="#"><i class="fa-solid fa-cart-shopping"></i></a>
            <a href="#"><i class="fa-regular fa-heart"></i></a>
            <div class="dropdown " >
                <button onclick="toggleDropdown()" class="dropbtn"><i class="fa-regular fa-user"></i></button>
                <div id="dropdownContent" class="dropdown-content">
                    <a href="/register">LOGIN/REGISTER</a>
                    <a href="#">MY ORDERS</a>
                    <a href="#">MY WISHLIST</a>
                    <hr>
                    <a href="/logout" id="logout-link">LOGOUT</a>
                </div>
            </div>
        </div>
        
        
          </div>
      </div>
    </nav>
    </header>
<!------------------Product-details------->
    <div id="products">
        <% if (productList && Array.isArray(productList)) { %>
        <% productList.forEach((product,index)=>{%>
            <div class="card">
              <div class="image-container">
               
                    <img src="../customer/images/<%= product.image %>" alt="">
                
              </div>
              <div class="details">
                <h5 class="product-name"><%= product.productname %></h5>
                <h6 class="product-price"><%= product.price %></h6>
               
                <button class="crt-btn">Add to Cart</button>
                <i class="fa-regular fa-heart" id="heart-icon"></i>
               
              </div>
            </div>
            <% }) %>

            <% } else { %>
                <h2 class="text-center text-secondary mt-5">No products are found!</h2>
            <% } %>
      </div>
      

    <!-- contact section -->
<section class="contact">
    <h2>Contact us</h2>
    <p>
      Functional handbags made of luxurious materials to improve people's
      lives in small but mighty ways. Lorem ipsum dolor sit amet consectetur,
      adipisicing elit. Est dolorem cum corporis impedit quae praesentium
      nulla atque ut, reprehenderit qui mollitia, facilis voluptates
      cupiditate nam fuga, quis fugit voluptatum labore.
    </p>
  
    <div id="contact-container">
      <input
        type="email"
        id="email-input"
        placeholder="Enter your email address.."
      />
      <button id="email">Submit</button>
    </div>
  </section>
  
   <!-- footer section -->
   <hr />
   <footer> 
     <div>
       <h5>Quick links</h5>
       <a href="#"><p>Bags</p></a>
       <a href="#"><p>Shoes</p></a>
       <a href="#"><p>Lookbook</p></a>
     </div>
     <div>
       <h5>Info</h5>
       <a href="#"><p>About</p></a>
       <a href="#"><p>Contact us</p></a>
       <a href="#"><p>Shipping policy</p></a>
       <a href="#"><p>Blog</p></a>
     </div>
     <div>
       <h5>Our mission</h5>
       <p>
         Quality materials, good designs, craftsmanship and sustainability.
       </p>
       <div>
         <i class="bx bxl-facebook-square"></i>
         <i class="bx bxl-instagram"></i>
         <i class="bx bxl-youtube"></i>
         <i class="bx bxl-tiktok"></i>
         <i class="bx bxl-twitter"></i>
       </div>
     </div>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
     <!-----function that dispalys the profile dropdown menu-->
   <script>
    function toggleDropdown() {
     var dropdownContent = document.getElementById("dropdownContent");
     dropdownContent.classList.toggle("show");
  }
  
  // Close the dropdown menu if the user clicks outside of it
  window.onclick = function(event) {
     if (!event.target.matches('.dropbtn')) {
         var dropdowns = document.getElementsByClassName("dropdown-content");
         for (var i = 0; i < dropdowns.length; i++) {
             var openDropdown = dropdowns[i];
             if (openDropdown.classList.contains('show')) {
                 openDropdown.classList.remove('show');
             }
         }
     }
  }
  
  
  
   </script>
    <script>
        
      // Example code to trigger logout when a logout button is clicked
  document.getElementById('logout-link').addEventListener('click', async () => {
  try {
    // Send a request to the logout route on the server
    const response = await fetch('/logout', {
      method: 'GET',
      credentials: 'include' // Include cookies in the request
    });
  
    // Check if the logout was successful
    if (response.ok) {
      // Redirect the user to the login page or any other page
      window.location.href = '/login';
    } else {
      // Handle error if logout failed
      console.error('Logout failed:', response.statusText);
    }
  } catch (error) {
    console.error('Error during logout:', error);
  }
  });
  
    </script>
    
   </footer>
  
     
    
     
     
  </body>
  </html>